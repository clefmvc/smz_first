(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3baac0a"],{3065:function(e,t,a){},"4d9d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticClass:"bg edit_wrap message"},[a("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"","label-width":"120px"}},[a("el-row",{staticClass:"row_e"},[a("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[a("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",accept:"image/gif, image/jpeg, image/png, image/jpg",action:"","http-request":e.uploadimg,"show-file-list":!1}},[e.form.avatar?a("img",{staticClass:"avatar",attrs:{src:e.$fullUrl(e.form.avatar)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),a("el-col",{staticClass:"el_form_item_warp",attrs:{xs:24,sm:12,lg:8}},[a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{disabled:e.disabledObj.nickname_disabled,placeholder:"请输入昵称"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1)],1),a("el-col",{staticClass:"editor el_form_editor_warp",attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",readonly:!0},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1)],1),a("el-col",{staticClass:"el_form_btn_warp",attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",[e.form["message_id"]&&e.$check_action("/message/view","set")||!e.form["message_id"]&&e.$check_action("/message/view","add")?a("el-col",{staticClass:"el_form_btn el_form_btn_1",attrs:{xs:24,sm:24,lg:12}},[a("el-button",{staticStyle:{width:"100%",float:"left"},attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1):e._e(),a("el-col",{staticClass:"el_form_btn el_form_btn_2",attrs:{xs:24,sm:24,lg:12}},[a("el-button",{staticStyle:{width:"100%",float:"right"},on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)],1)],1)],1)},l=[],i=(a("96cf"),a("1da1")),r=a("c6e7"),n={mixins:[r["a"]],data:function(){return{table:"message",field:"message_id",url_add:"~/api/message/add?",url_set:"~/api/message/set?",url_get_obj:"~/api/message/get_obj?",url_upload:"~/api/message/upload?",query:{message_id:0},form:{message_id:0,avatar:"",title:"",nickname:"",content:"",reply_state:0},list_message:[],disabledObj:{nickname_disabled:!1}}},methods:{submit_check:function(e){var t="";return""===e.title?(t="标题不能为空",t):""===e.nickname?(t="昵称不能为空",t):-1===e.reply_id?(t="回复者错误",t):void 0},uploadimg:function(e){this.uploadFile(e.file,"avatar")},get_list_message:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$get("~/api/message/get_list?");case 2:a=t.sent,e.list_message=a.result.list;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this.$store.state.user;e&&e.user_id&&(this.form.nickname=e.nickname,this.disabledObj.nickname_disabled=!0),this.get_list_message()}},o=n,c=(a("ad5a"),a("2877")),m=Object(c["a"])(o,s,l,!1,null,null,null);t["default"]=m.exports},ad5a:function(e,t,a){"use strict";a("3065")}}]);